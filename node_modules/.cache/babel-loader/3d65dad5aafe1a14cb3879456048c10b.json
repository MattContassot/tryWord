{"ast":null,"code":"import { WORDS, WORD_LENGTH } from \"./constants\";\n\nfunction generateRandomNumber() {\n  const min = Math.ceil(0);\n  const max = Math.floor(WORDS.length - 1);\n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nexport function selectWord() {\n  return WORDS[generateRandomNumber()];\n}\nexport function validateWord(word, wordTried, attempt) {\n  const wordArray = Array.from(word);\n  const attemptId = attempt.substring(7, 8);\n  let wordIncluded = [...wordArray];\n\n  for (let i = 0; i < WORD_LENGTH; i += 1) {\n    let currentLetter = '';\n    let letterOnKeyboard = '';\n    currentLetter = document.querySelector(`#a${attemptId}-l${i + 1}`);\n    letterOnKeyboard = document.querySelector(`#${currentLetter.value}`);\n\n    if (wordArray[i] === wordTried[i]) {\n      currentLetter.classList.add('correctLetter');\n      letterOnKeyboard.classList.add('correctLetter');\n      wordIncluded.splice(i, 1, '*');\n    } else if (wordIncluded.includes(wordTried[i])) {\n      currentLetter.classList.add('letterIncluded');\n      letterOnKeyboard.classList.add('letterIncluded');\n      wordIncluded.splice(wordIncluded.indexOf(wordTried[i]), 1, '*');\n    } else {\n      const word = document.querySelectorAll(`[class*=correctLetter]`);\n      console.log(word);\n      word.forEach(letter => {\n        if (letter.contains('letterIncluded')) letter.classList.remove('letterIncluded');\n        if (letter.contains('wrongLetter')) letter.classList.remove('wrongLetter');\n      });\n\n      if (!wordIncluded.includes(wordTried[i])) {\n        currentLetter.classList.add('wrongLetter');\n\n        if (!wordArray.includes(wordTried[i])) {\n          letterOnKeyboard.classList.add('wrongLetter');\n          letterOnKeyboard.disabled = true;\n        }\n      }\n    }\n  }\n\n  console.log('Original:' + wordArray);\n  console.log('Alterado:' + wordIncluded);\n}\nexport const focusNextLetter = currentLetter => {\n  const onFocus = document.querySelector('.letterOnFocus');\n  onFocus.classList.remove('letterOnFocus');\n  const lastNumberId = Number(currentLetter.substring(4, 5)) + 1;\n  let nextLetter = document.querySelector(`#${currentLetter.substring(0, 4) + lastNumberId}`);\n\n  if (lastNumberId > 5) {\n    const nextAttempt = Number(currentLetter.substring(1, 2)) + 1;\n    nextLetter = document.querySelector(`#a${nextAttempt}-l1`);\n  }\n\n  if (currentLetter === 'a6-l5') return console.log('chamar o placar');\n  nextLetter.classList.add('letterOnFocus');\n  return nextLetter.focus();\n};\nexport function correctWord(word, wordTried, lastAttempt) {\n  if (word === wordTried.join('')) {\n    const disableAll = document.querySelectorAll('input');\n    const attempt = document.querySelectorAll(`[id*=${lastAttempt}]`);\n    const currentFocus = document.querySelector(`.letterOnFocus`);\n    wordTried.forEach(letter => {\n      const letterOnKeyboard = document.querySelector(`#${letter}`);\n      letterOnKeyboard.classList.add('correctLetter');\n    });\n    currentFocus.classList.remove('letterOnFocus');\n    disableAll.forEach(input => input.disabled = true);\n    attempt.forEach(letter => letter.classList.add('correctLetter'));\n    return true;\n  }\n\n  return false;\n}","map":{"version":3,"sources":["/home/matheus/Documentos/Projetos/tryWord/src/services/functions.js"],"names":["WORDS","WORD_LENGTH","generateRandomNumber","min","Math","ceil","max","floor","length","random","selectWord","validateWord","word","wordTried","attempt","wordArray","Array","from","attemptId","substring","wordIncluded","i","currentLetter","letterOnKeyboard","document","querySelector","value","classList","add","splice","includes","indexOf","querySelectorAll","console","log","forEach","letter","contains","remove","disabled","focusNextLetter","onFocus","lastNumberId","Number","nextLetter","nextAttempt","focus","correctWord","lastAttempt","join","disableAll","currentFocus","input"],"mappings":"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","sourcesContent":["import { WORDS, WORD_LENGTH } from \"./constants\";\n\nfunction generateRandomNumber() {\n  const min = Math.ceil(0);\n  const max = Math.floor(WORDS.length - 1);\n\n  return Math.floor((Math.random() * (max - min + 1)) + min);\n}\n\nexport function selectWord() {\n  return WORDS[generateRandomNumber()];\n}\n\nexport function validateWord(word, wordTried, attempt) {\n  const wordArray = Array.from(word);\n  const attemptId = attempt.substring(7, 8);\n  let wordIncluded = [...wordArray];\n\n  for (let i = 0; i < WORD_LENGTH; i += 1) {\n    let currentLetter = '';\n    let letterOnKeyboard = '';\n\n    currentLetter = document.querySelector(`#a${attemptId}-l${i + 1}`);\n    letterOnKeyboard = document.querySelector(`#${currentLetter.value}`);\n\n    if (wordArray[i] === wordTried[i]) {\n      currentLetter.classList.add('correctLetter');\n      letterOnKeyboard.classList.add('correctLetter');\n      wordIncluded.splice(i, 1, '*');\n    }\n\n    else if (wordIncluded.includes(wordTried[i])) {\n      currentLetter.classList.add('letterIncluded');\n      letterOnKeyboard.classList.add('letterIncluded');\n      wordIncluded.splice(wordIncluded.indexOf(wordTried[i]), 1, '*');\n    }\n\n    else {\n      const word = document.querySelectorAll(`[class*=correctLetter]`);\n      console.log(word);\n      word.forEach((letter) => {\n        if (letter.contains('letterIncluded')) letter.classList.remove('letterIncluded');\n        if (letter.contains('wrongLetter')) letter.classList.remove('wrongLetter');\n      });\n\n      if (!wordIncluded.includes(wordTried[i])) {\n        currentLetter.classList.add('wrongLetter');\n        \n        if (!wordArray.includes(wordTried[i])) {\n          letterOnKeyboard.classList.add('wrongLetter');\n          letterOnKeyboard.disabled = true;\n        }\n      }      \n    }\n  }\n  console.log('Original:' + wordArray);\n  console.log('Alterado:' + wordIncluded);\n}\n\nexport const focusNextLetter = (currentLetter) => {\n  const onFocus = document.querySelector('.letterOnFocus');\n  onFocus.classList.remove('letterOnFocus');\n\n  const lastNumberId = Number(currentLetter.substring(4, 5)) + 1;\n  let nextLetter = document.querySelector(`#${currentLetter.substring(0, 4) + lastNumberId}`);\n\n  if (lastNumberId > 5) {\n    const nextAttempt = Number(currentLetter.substring(1, 2)) + 1;\n    nextLetter = document.querySelector(`#a${nextAttempt}-l1`);\n  }\n\n  if (currentLetter === 'a6-l5') return console.log('chamar o placar');\n\n  nextLetter.classList.add('letterOnFocus');\n\n  return nextLetter.focus();\n};\n\nexport function correctWord(word, wordTried, lastAttempt) {\n  if (word === wordTried.join('')) {\n    const disableAll = document.querySelectorAll('input');\n    const attempt = document.querySelectorAll(`[id*=${lastAttempt}]`);\n    const currentFocus = document.querySelector(`.letterOnFocus`);\n    \n    wordTried.forEach((letter) => {\n      const letterOnKeyboard = document.querySelector(`#${letter}`);\n      letterOnKeyboard.classList.add('correctLetter');\n    });\n    currentFocus.classList.remove('letterOnFocus');\n    disableAll.forEach((input) => input.disabled = true);\n    attempt.forEach((letter) => letter.classList.add('correctLetter'));\n\n    return true;\n  }\n  return false;\n}"]},"metadata":{},"sourceType":"module"}